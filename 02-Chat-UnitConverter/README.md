# ğŸ”„ Unit Converter Agent - å•ä½è½¬æ¢æ™ºèƒ½ä½“

> åŸºäº DeepSeek API + Function Calling çš„å•ä½æ¢ç®—æ™ºèƒ½åŠ©æ‰‹

---

## ğŸ“Œ é¡¹ç›®ç®€ä»‹

**Unit Converter Agent** æ˜¯ä¸€ä¸ªä¸“æ³¨äºå•ä½è½¬æ¢çš„ AI æ™ºèƒ½ä½“ï¼Œèƒ½å¤Ÿç†è§£è‡ªç„¶è¯­è¨€ä¸­çš„å•ä½æ¢ç®—éœ€æ±‚ï¼Œè‡ªåŠ¨è°ƒç”¨å•ä½è½¬æ¢å·¥å…·ï¼Œæ”¯æŒé•¿åº¦ã€è´¨é‡ã€æ¸©åº¦ç­‰å¤šç§å•ä½çš„åŒå‘è½¬æ¢ã€‚

### æ ¸å¿ƒèƒ½åŠ›

- âœ… **å¤šå•ä½æ”¯æŒ**ï¼šé•¿åº¦ã€è´¨é‡ã€æ¸©åº¦å•ä½è½¬æ¢
- âœ… **åŒå‘è½¬æ¢**ï¼šæ”¯æŒ cmâ†”mã€kgâ†”gã€Câ†”F ç­‰åŒå‘è½¬æ¢
- âœ… **è‡ªç„¶è¯­è¨€ç†è§£**ï¼šç†è§£å„ç§å•ä½è¡¨è¾¾æ–¹å¼
- âœ… **è‡ªåŠ¨å·¥å…·è°ƒç”¨**ï¼šæ™ºèƒ½è¯†åˆ«è½¬æ¢éœ€æ±‚ï¼Œè‡ªåŠ¨è°ƒç”¨ `unitConverter` å·¥å…·
- âœ… **æµå¼è¾“å‡º**ï¼šæ”¯æŒ SSE æµå¼å“åº”ï¼Œæä¾›å®æ—¶æ‰“å­—æœºæ•ˆæœ
- âœ… **å·¥å…·ååˆ¶æœºåˆ¶**ï¼šå·¥å…·è°ƒç”¨å¤±è´¥æ—¶è‡ªåŠ¨ä¿®å¤å‚æ•°å¹¶é‡è¯•
- âœ… **ä¸Šä¸‹æ–‡è®°å¿†**ï¼šæ”¯æŒå¤šè½®å¯¹è¯ï¼Œä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§

---

## ğŸ¯ åŠŸèƒ½æ¼”ç¤º

### æ”¯æŒçš„å•ä½ç±»å‹

#### ğŸ“ é•¿åº¦å•ä½
- **å˜ç±³ (cm)** â†” **ç±³ (m)**

#### âš–ï¸ è´¨é‡å•ä½
- **åƒå…‹ (kg)** â†” **å…‹ (g)**

#### ğŸŒ¡ï¸ æ¸©åº¦å•ä½
- **æ‘„æ°åº¦ (Â°C)** â†” **åæ°åº¦ (Â°F)**

### ä½¿ç”¨ç¤ºä¾‹

```
ç”¨æˆ·: "100 å˜ç±³ç­‰äºå¤šå°‘ç±³ï¼Ÿ"
AI: æ­£åœ¨è°ƒç”¨å•ä½è½¬æ¢å·¥å…·...
     100 cm = 1 m

ç”¨æˆ·: "é‚£ 2.5 åƒå…‹æ˜¯å¤šå°‘å…‹ï¼Ÿ"
AI: æ­£åœ¨è°ƒç”¨å•ä½è½¬æ¢å·¥å…·...
     2.5 kg = 2500 g

ç”¨æˆ·: "25 æ‘„æ°åº¦è½¬æˆåæ°åº¦"
AI: æ­£åœ¨è°ƒç”¨å•ä½è½¬æ¢å·¥å…·...
     25Â°C = 77Â°F

ç”¨æˆ·: "100 åæ°åº¦æ˜¯å¤šå°‘æ‘„æ°åº¦ï¼Ÿ"
AI: æ­£åœ¨è°ƒç”¨å•ä½è½¬æ¢å·¥å…·...
     100Â°F = 37.78Â°C
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- npm æˆ– yarn

### å®‰è£…ä¾èµ–

```bash
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
VITE_AI_API_KEY=your_deepseek_api_key
VITE_AI_API_BASE_URL=https://api.deepseek.com
VITE_APP_TITLE=å•ä½è½¬æ¢æ™ºèƒ½åŠ©æ‰‹
VITE_APP_DEBUG=false
```

### è¿è¡Œé¡¹ç›®

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šVue 3 (Composition API)
- **æ„å»ºå·¥å…·**ï¼šVite
- **è¯­è¨€**ï¼šTypeScript
- **AI æœåŠ¡**ï¼šDeepSeek API
- **é€šä¿¡åè®®**ï¼šSSE (Server-Sent Events)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
02-Chat-UnitConverter/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ChatComponent.vue    # èŠå¤©ä¸»ç»„ä»¶
â”‚   â”‚   â””â”€â”€ SSEDebugPanel.vue    # è°ƒè¯•é¢æ¿
â”‚   â”œâ”€â”€ services/            # æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ aiService.ts         # AI æœåŠ¡å°è£…
â”‚   â”œâ”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ chat.ts
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ tools.ts             # å·¥å…·å‡½æ•°å®šä¹‰ï¼ˆcalculator + unitConverterï¼‰
â”‚   â”‚   â””â”€â”€ utils.ts             # é€šç”¨å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts              # å…¥å£æ–‡ä»¶
â”œâ”€â”€ public/                  # é™æ€èµ„æº
â”œâ”€â”€ index.html               # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.ts           # Vite é…ç½®
â””â”€â”€ package.json             # é¡¹ç›®é…ç½®
```

---

## ğŸ”§ å·¥å…·å®šä¹‰

### Unit Converter Tool

**å·¥å…·åç§°**ï¼š`unitConverter`

**åŠŸèƒ½æè¿°**ï¼šç”¨äºè¿›è¡Œå•ä½æ¢ç®—çš„å·¥å…·ï¼Œæ”¯æŒåŒå‘è½¬æ¢ï¼šå˜ç±³â†”ç±³(cmâ†”m)ã€åƒå…‹â†”å…‹(kgâ†”g)ã€æ‘„æ°åº¦â†”åæ°åº¦(Câ†”F)ã€‚

**å‚æ•°å®šä¹‰**ï¼š

```typescript
{
  value: number,  // è¦è½¬æ¢çš„æ•°å€¼
  from: string,   // åŸå§‹å•ä½: "cm" | "m" | "kg" | "g" | "C" | "F"
  to: string      // ç›®æ ‡å•ä½: "cm" | "m" | "kg" | "g" | "C" | "F"
}
```

**è½¬æ¢è§„åˆ™**ï¼š

| è½¬æ¢ç±»å‹ | å…¬å¼ |
|---------|------|
| cm â†’ m | value / 100 |
| m â†’ cm | value * 100 |
| kg â†’ g | value * 1000 |
| g â†’ kg | value / 1000 |
| C â†’ F | (value * 9) / 5 + 32 |
| F â†’ C | ((value - 32) * 5) / 9 |

**å·¥å…·å®ç°**ï¼š

```typescript
export const unitConverter = (
  params: UnitConverterParams
): { value: number; unit: string } => {
  const { value, from, to } = params;
  
  // é•¿åº¦è½¬æ¢
  if (from === "cm" && to === "m") {
    return { value: value / 100, unit: "m" };
  }
  if (from === "m" && to === "cm") {
    return { value: value * 100, unit: "cm" };
  }
  
  // è´¨é‡è½¬æ¢
  if (from === "kg" && to === "g") {
    return { value: value * 1000, unit: "g" };
  }
  if (from === "g" && to === "kg") {
    return { value: value / 1000, unit: "kg" };
  }
  
  // æ¸©åº¦è½¬æ¢
  if (from === "C" && to === "F") {
    const fahrenheit = (value * 9) / 5 + 32;
    return { value: parseFloat(fahrenheit.toFixed(2)), unit: "Â°F" };
  }
  if (from === "F" && to === "C") {
    const celsius = ((value - 32) * 5) / 9;
    return { value: parseFloat(celsius.toFixed(2)), unit: "Â°C" };
  }
  
  throw new Error(`ä¸æ”¯æŒçš„å•ä½è½¬æ¢: ${from} åˆ° ${to}`);
};
```

### Calculator Tool

æœ¬é¡¹ç›®è¿˜é›†æˆäº†è®¡ç®—å™¨å·¥å…·ï¼Œæ”¯æŒå››åˆ™è¿ç®—ï¼Œå¯ç”¨äºå¤åˆè®¡ç®—åœºæ™¯ã€‚

---

## ğŸ§  Agent å·¥ä½œæµç¨‹

1. **ç”¨æˆ·è¾“å…¥** â†’ è‡ªç„¶è¯­è¨€å•ä½è½¬æ¢éœ€æ±‚
2. **LLM åˆ†æ** â†’ è¯†åˆ«è½¬æ¢éœ€æ±‚ï¼Œæå–æ•°å€¼å’Œå•ä½
3. **å·¥å…·è°ƒç”¨** â†’ è‡ªåŠ¨è°ƒç”¨ `unitConverter` å·¥å…·
4. **æ‰§è¡Œè½¬æ¢** â†’ å·¥å…·æ‰§è¡Œå¹¶è¿”å›ç»“æœ
5. **ç»“æœå¤„ç†** â†’ LLM å¤„ç†å·¥å…·ç»“æœï¼Œç”Ÿæˆè‡ªç„¶è¯­è¨€å›å¤
6. **æµå¼è¾“å‡º** â†’ é€šè¿‡ SSE æµå¼è¿”å›ç»™ç”¨æˆ·

### å·¥å…·ååˆ¶æœºåˆ¶

å½“å·¥å…·è°ƒç”¨å¤±è´¥æ—¶ï¼ˆå¦‚å•ä½ä¸æ”¯æŒã€å‚æ•°é”™è¯¯ï¼‰ï¼š
1. æ•è·é”™è¯¯ä¿¡æ¯
2. å°†é”™è¯¯åé¦ˆç»™ LLM
3. LLM åˆ†æé”™è¯¯å¹¶ä¿®å¤å‚æ•°
4. è‡ªåŠ¨å‘èµ·ç¬¬äºŒæ¬¡å·¥å…·è°ƒç”¨

---

## ğŸ’¡ å¼€å‘è¯´æ˜

### æ·»åŠ æ–°çš„å•ä½ç±»å‹

1. åœ¨ `src/utils/tools.ts` ä¸­ä¿®æ”¹ `unitConverter` å‡½æ•°
2. æ›´æ–° `unitConverterFunction` çš„ `parameters.from/to.enum`
3. æ·»åŠ æ–°çš„è½¬æ¢é€»è¾‘

ç¤ºä¾‹ï¼šæ·»åŠ è‹±å¯¸åˆ°å˜ç±³çš„è½¬æ¢

```typescript
// åœ¨ unitConverter å‡½æ•°ä¸­æ·»åŠ 
if (from === "inch" && to === "cm") {
  return { value: value * 2.54, unit: "cm" };
}
if (from === "cm" && to === "inch") {
  return { value: value / 2.54, unit: "inch" };
}

// æ›´æ–° enum
enum: ["cm", "m", "kg", "g", "C", "F", "inch"]
```

### è‡ªå®šä¹‰é…ç½®

ä¿®æ”¹ `src/services/aiService.ts` ä¸­çš„é…ç½®ï¼š

```typescript
const config = {
  model: "deepseek-chat",
  temperature: 0.3,
  max_tokens: 300
};
```

---

## ğŸ¨ ç‰¹æ€§äº®ç‚¹

### 1. æ™ºèƒ½å•ä½è¯†åˆ«

AI èƒ½å¤Ÿè¯†åˆ«å„ç§å•ä½è¡¨è¾¾æ–¹å¼ï¼š

- "100 å˜ç±³" â†’ `{ value: 100, from: "cm" }`
- "2.5 åƒå…‹" â†’ `{ value: 2.5, from: "kg" }`
- "25 åº¦" â†’ æ ¹æ®ä¸Šä¸‹æ–‡åˆ¤æ–­æ˜¯æ‘„æ°åº¦è¿˜æ˜¯åæ°åº¦

### 2. åŒå‘è½¬æ¢æ”¯æŒ

æ‰€æœ‰å•ä½è½¬æ¢éƒ½æ”¯æŒåŒå‘ï¼š

- cm â†” m
- kg â†” g
- C â†” F

### 3. ç²¾åº¦å¤„ç†

æ¸©åº¦è½¬æ¢ç»“æœä¿ç•™ 2 ä½å°æ•°ï¼Œç¡®ä¿ç²¾åº¦ã€‚

### 4. é”™è¯¯å¤„ç†

- ä¸æ”¯æŒçš„å•ä½ç»„åˆä¼šæŠ›å‡ºæ˜ç¡®é”™è¯¯
- å‚æ•°ç±»å‹éªŒè¯
- å·¥å…·è°ƒç”¨å¤±è´¥è‡ªåŠ¨é‡è¯•

---

## ğŸ“ æ³¨æ„äº‹é¡¹

- æ¸©åº¦è½¬æ¢ç»“æœä¿ç•™ 2 ä½å°æ•°
- ä¸æ”¯æŒè·¨ç±»å‹è½¬æ¢ï¼ˆå¦‚ cm â†’ kgï¼‰
- æ”¯æŒå¤šè½®å¯¹è¯ï¼Œä¸Šä¸‹æ–‡ä¼šè‡ªåŠ¨ç»´æŠ¤
- å·¥å…·ä¼šè‡ªåŠ¨è¯†åˆ«ç”¨æˆ·æ„å›¾ï¼Œæ— éœ€æ˜ç¡®è¯´æ˜å•ä½ç±»å‹

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [DeepSeek API æ–‡æ¡£](https://platform.deepseek.com/api-docs/)
- [Vue 3 æ–‡æ¡£](https://vuejs.org/)
- [Function Calling æŒ‡å—](https://platform.deepseek.com/api-docs/#function-calling)

---

## ğŸ“„ License

MIT License
