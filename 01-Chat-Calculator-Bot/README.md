# ğŸ§® Calculator Agent - è®¡ç®—å™¨æ™ºèƒ½ä½“

> åŸºäº DeepSeek API + Function Calling çš„æ•°å­¦è®¡ç®—æ™ºèƒ½åŠ©æ‰‹

---

## ğŸ“Œ é¡¹ç›®ç®€ä»‹

**Calculator Agent** æ˜¯ä¸€ä¸ªä¸“æ³¨äºæ•°å­¦è®¡ç®—çš„ AI æ™ºèƒ½ä½“ï¼Œèƒ½å¤Ÿç†è§£è‡ªç„¶è¯­è¨€ä¸­çš„æ•°å­¦é—®é¢˜ï¼Œè‡ªåŠ¨è°ƒç”¨è®¡ç®—å™¨å·¥å…·è¿›è¡Œå››åˆ™è¿ç®—ï¼Œå¹¶ä»¥æµå¼æ–¹å¼è¿”å›ç»“æœã€‚

### æ ¸å¿ƒèƒ½åŠ›

- âœ… **è‡ªç„¶è¯­è¨€ç†è§£**ï¼šç†è§£ç”¨æˆ·çš„å„ç§æ•°å­¦è¡¨è¾¾æ–¹å¼
- âœ… **è‡ªåŠ¨å·¥å…·è°ƒç”¨**ï¼šæ™ºèƒ½è¯†åˆ«è®¡ç®—éœ€æ±‚ï¼Œè‡ªåŠ¨è°ƒç”¨ `calculator` å·¥å…·
- âœ… **æµå¼è¾“å‡º**ï¼šæ”¯æŒ SSE æµå¼å“åº”ï¼Œæä¾›å®æ—¶æ‰“å­—æœºæ•ˆæœ
- âœ… **å·¥å…·ååˆ¶æœºåˆ¶**ï¼šå·¥å…·è°ƒç”¨å¤±è´¥æ—¶è‡ªåŠ¨ä¿®å¤å‚æ•°å¹¶é‡è¯•
- âœ… **ä¸Šä¸‹æ–‡è®°å¿†**ï¼šæ”¯æŒå¤šè½®å¯¹è¯ï¼Œä¿æŒä¸Šä¸‹æ–‡è¿è´¯æ€§

---

## ğŸ¯ åŠŸèƒ½æ¼”ç¤º

### æ”¯æŒçš„è¿ç®—ç±»å‹

- â• **åŠ æ³•** (add)
- â– **å‡æ³•** (subtract)
- âœ–ï¸ **ä¹˜æ³•** (multiply)
- â— **é™¤æ³•** (divide)

### ä½¿ç”¨ç¤ºä¾‹

```
ç”¨æˆ·: "å¸®æˆ‘ç®—ä¸€ä¸‹ 123 åŠ  456 ç­‰äºå¤šå°‘ï¼Ÿ"
AI: æ­£åœ¨è°ƒç”¨è®¡ç®—å™¨å·¥å…·...
     123 + 456 = 579

ç”¨æˆ·: "é‚£ 1000 é™¤ä»¥ 25 å‘¢ï¼Ÿ"
AI: æ­£åœ¨è°ƒç”¨è®¡ç®—å™¨å·¥å…·...
     1000 Ã· 25 = 40
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- npm æˆ– yarn

### å®‰è£…ä¾èµ–

```bash
npm install
```

### é…ç½®ç¯å¢ƒå˜é‡

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```env
VITE_AI_API_KEY=your_deepseek_api_key
VITE_AI_API_BASE_URL=https://api.deepseek.com
VITE_APP_TITLE=è®¡ç®—å™¨æ™ºèƒ½åŠ©æ‰‹
VITE_APP_DEBUG=false
```

### è¿è¡Œé¡¹ç›®

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**ï¼šVue 3 (Composition API)
- **æ„å»ºå·¥å…·**ï¼šVite
- **è¯­è¨€**ï¼šTypeScript
- **AI æœåŠ¡**ï¼šDeepSeek API
- **é€šä¿¡åè®®**ï¼šSSE (Server-Sent Events)

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
01-Chat-Calculator-Bot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # Vue ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ChatComponent.vue    # èŠå¤©ä¸»ç»„ä»¶
â”‚   â”‚   â””â”€â”€ SSEDebugPanel.vue    # è°ƒè¯•é¢æ¿
â”‚   â”œâ”€â”€ services/            # æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ aiService.ts         # AI æœåŠ¡å°è£…ï¼ˆåŒ…å«å·¥å…·å®šä¹‰ï¼‰
â”‚   â”œâ”€â”€ types/               # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ chat.ts
â”‚   â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts              # å…¥å£æ–‡ä»¶
â”œâ”€â”€ public/                  # é™æ€èµ„æº
â”œâ”€â”€ index.html               # HTML æ¨¡æ¿
â”œâ”€â”€ vite.config.ts           # Vite é…ç½®
â””â”€â”€ package.json             # é¡¹ç›®é…ç½®
```

---

## ğŸ”§ å·¥å…·å®šä¹‰

### Calculator Tool

**å·¥å…·åç§°**ï¼š`calculator`

**åŠŸèƒ½æè¿°**ï¼šç”¨äºè¿›è¡Œæ•°å­¦å››åˆ™è¿ç®—çš„è®¡ç®—å™¨å·¥å…·ã€‚ä»…åœ¨ç”¨æˆ·æ˜ç¡®è¦æ±‚è¿›è¡Œæ•°å­¦è®¡ç®—æ—¶ä½¿ç”¨ã€‚

**å‚æ•°å®šä¹‰**ï¼š

```typescript
{
  num1: number,      // ç¬¬ä¸€ä¸ªæ“ä½œæ•°
  num2: number,      // ç¬¬äºŒä¸ªæ“ä½œæ•°
  operation: string  // è¿ç®—ç±»å‹: "add" | "subtract" | "multiply" | "divide"
}
```

**å·¥å…·å®ç°**ï¼š

```typescript
export const calculator = (params: CalculatorParams): number => {
  const { num1, num2, operation } = params;
  
  switch (operation) {
    case "add": return num1 + num2;
    case "subtract": return num1 - num2;
    case "multiply": return num1 * num2;
    case "divide": 
      if (num2 === 0) throw new Error("é™¤æ•°ä¸èƒ½ä¸ºé›¶");
      return num1 / num2;
    default: throw new Error(`ä¸æ”¯æŒçš„æ“ä½œ: ${operation}`);
  }
};
```

---

## ğŸ§  Agent å·¥ä½œæµç¨‹

1. **ç”¨æˆ·è¾“å…¥** â†’ è‡ªç„¶è¯­è¨€æ•°å­¦é—®é¢˜
2. **LLM åˆ†æ** â†’ è¯†åˆ«è®¡ç®—éœ€æ±‚ï¼Œæå–å‚æ•°
3. **å·¥å…·è°ƒç”¨** â†’ è‡ªåŠ¨è°ƒç”¨ `calculator` å·¥å…·
4. **æ‰§è¡Œè®¡ç®—** â†’ å·¥å…·æ‰§è¡Œå¹¶è¿”å›ç»“æœ
5. **ç»“æœå¤„ç†** â†’ LLM å¤„ç†å·¥å…·ç»“æœï¼Œç”Ÿæˆè‡ªç„¶è¯­è¨€å›å¤
6. **æµå¼è¾“å‡º** â†’ é€šè¿‡ SSE æµå¼è¿”å›ç»™ç”¨æˆ·

### å·¥å…·ååˆ¶æœºåˆ¶

å½“å·¥å…·è°ƒç”¨å¤±è´¥æ—¶ï¼ˆå¦‚å‚æ•°é”™è¯¯ï¼‰ï¼š
1. æ•è·é”™è¯¯ä¿¡æ¯
2. å°†é”™è¯¯åé¦ˆç»™ LLM
3. LLM åˆ†æé”™è¯¯å¹¶ä¿®å¤å‚æ•°
4. è‡ªåŠ¨å‘èµ·ç¬¬äºŒæ¬¡å·¥å…·è°ƒç”¨

---

## ğŸ’¡ å¼€å‘è¯´æ˜

### æ·»åŠ æ–°çš„è¿ç®—ç±»å‹

1. åœ¨ `src/services/aiService.ts` ä¸­ä¿®æ”¹ `calculator` å‡½æ•°
2. æ›´æ–° `calculatorFunction` çš„ `parameters.operation.enum`
3. åœ¨ switch è¯­å¥ä¸­æ·»åŠ æ–°çš„ case

### è‡ªå®šä¹‰é…ç½®

ä¿®æ”¹ `src/services/aiService.ts` ä¸­çš„é…ç½®ï¼š

```typescript
const config = {
  model: "deepseek-chat",
  temperature: 0.3,
  max_tokens: 300
};
```

---

## ğŸ¨ ç‰¹æ€§äº®ç‚¹

### 1. æ™ºèƒ½å‚æ•°æå–

AI èƒ½å¤Ÿä»å„ç§è‡ªç„¶è¯­è¨€è¡¨è¾¾ä¸­æå–è®¡ç®—å‚æ•°ï¼š

- "123 åŠ  456"
- "è®¡ç®— 100 ä¹˜ä»¥ 25"
- "å¸®æˆ‘ç®—ä¸€ä¸‹ 1000 é™¤ä»¥ 50"

### 2. é”™è¯¯å¤„ç†

- é™¤é›¶æ£€æµ‹
- å‚æ•°ç±»å‹éªŒè¯
- å·¥å…·è°ƒç”¨å¤±è´¥è‡ªåŠ¨é‡è¯•

### 3. æµå¼ä½“éªŒ

- å®æ—¶æ‰“å­—æœºæ•ˆæœ
- SSE æµå¼è§£æ
- æ”¯æŒè°ƒè¯•é¢æ¿æŸ¥çœ‹åŸå§‹æ•°æ®

---

## ğŸ“ æ³¨æ„äº‹é¡¹

- å·¥å…·ä»…åœ¨ç”¨æˆ·**æ˜ç¡®è¦æ±‚è®¡ç®—**æ—¶è°ƒç”¨
- å†å²äº‹ä»¶ä¸­çš„å¹´ä»½ã€æ—¥æœŸç­‰æè¿°æ€§æ•°å­—ä¸ä¼šè§¦å‘è®¡ç®—
- æ”¯æŒå¤šè½®å¯¹è¯ï¼Œä¸Šä¸‹æ–‡ä¼šè‡ªåŠ¨ç»´æŠ¤

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [DeepSeek API æ–‡æ¡£](https://platform.deepseek.com/api-docs/)
- [Vue 3 æ–‡æ¡£](https://vuejs.org/)
- [Function Calling æŒ‡å—](https://platform.deepseek.com/api-docs/#function-calling)

---

## ğŸ“„ License

MIT License
